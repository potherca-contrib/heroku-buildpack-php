#!/usr/bin/env bash
# bin/detect <BUILD_DIR>

################################################################################
#
# ------------------------------------------------------------------------------
################################################################################

# ==============================================================================
# CONFIG
# ------------------------------------------------------------------------------
# fail fast
set -e
# ==============================================================================

BUILD_DIR=$1

# ==============================================================================
# Possible Directory Names for the DocumentRoot
# ------------------------------------------------------------------------------
#declare -a aPossibleDocumentRoots

aPossibleDocumentRoots=('www web html public')
# ==============================================================================


################################################################################
# FUNCTIONS
################################################################################

# ==============================================================================
# Tries to find out if there is a public web dir
# ------------------------------------------------------------------------------
function detectDocumentRoot(){
    bFound=false

    for sDirectory in ${aPossibleDocumentRoots}; do
        if [ -d "${BUILD_DIR}/${sDirectory}" ]; then
            bFound=true
            break
        fi
    done

    if [ ${bFound} == true ]; then
        echo "Potherca:PHP-app"
        exit 0
    else
        exit 1
    fi
}
# ==============================================================================

detectDocumentRoot

#EOF